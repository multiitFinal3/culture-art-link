<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml">
<html layout:decorate="~{common/layout/layoutMenubar}">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/festival/festivalDetail.css}">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script th:src="@{/js/festival/festivalDetail.js}"></script>

    <script th:inline="javascript">

        $(document).ready(
            function(){

                // 전역변수 선언

                var festival = [[${festival}]];
                var naverClientId = [[${naverClientId}]];
                var festivalId = festival.festivalId;
                var regionId = festival.regionId;
                var season = festival.season;
                var manageInstitution = festival.manageInstitution;
                var festivalName = festival.festivalName;
                var formattedStart = festival.formattedStart;
                var latitude = festival.latitude;
                var longtitude = festival.longtitude;


                var userId = [[${userId}]];

                //#region 찜 / 관심없음 관련 함수


                /**
                * 찜하기 / 찜 취소하기 버튼
                *
                */
                $(document).on('click','.heart', function(){

                    var button = $(this);
                    var festivalId = $(this).val();

                    if(button.closest(".card").hasClass("hasLove")){

                        $.ajax({

                            url: '/festival/deleteUserLoveFestival?festivalId=' + festivalId,
                            method: 'POST',
                            contentType: 'application/json',
                            success: function(res){
                                alert(res);
                                button.closest('.card').removeClass("hasLove");
                            },
                            error: function(xhr, status, error){

                                alert('error : ',error);

                            }
                        })

                    }else{

                        if(button.closest(".card").hasClass("hasHate")){
                            button.closest(".card").find(".hate").click();
                        }


                        $.ajax({

                            url: '/festival/insertUserLoveFestival?festivalId=' + festivalId,
                            method: 'POST',
                            contentType: 'application/json',
                            success: function(res){

                                alert(res);
                                button.closest(".card").addClass("hasLove");


                            },
                            error: function(xhr, status, error){

                             alert('error : ',error);

                            }

                        })


                    }

                })


                /**
                * 찜 리스트 찾아서 색 바꾸기
                *
                */
                function findLoveList(){

                    var cardList = document.querySelectorAll(".card");

                    $.ajax({

                        url: '/festival/findLoveList',
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $.each(cardList, function(index, card){

                                var cardString = card.getAttribute('value');
                                var cardInt = parseInt(cardString, 10);

                                if(list.includes(cardInt)){

                                    $(card).addClass("hasLove");

                                }
                            })
                        }
                    })

                }






               /**
                * 관심없음 하기 / 관심없음 취소하기 버튼
                *
                */
                $(document).on('click','.hate', function(){

                    var button = $(this);
                    var festivalId = $(this).val();

                    if(button.closest(".card").hasClass("hasHate")){

                        $.ajax({

                            url: '/festival/deleteUserHateFestival?festivalId=' + festivalId,
                            method: 'POST',
                            contentType: 'application/json',
                            success: function(res){
                                alert(res);
                                button.closest('.card').removeClass("hasHate");
                            },
                            error: function(xhr, status, error){

                                alert('error : ',error);

                            }
                        })

                    }else{

                        if(button.closest(".card").hasClass("hasLove")){
                            button.closest(".card").find(".heart").click();
                        }

                        $.ajax({

                            url: '/festival/insertUserHateFestival?festivalId=' + festivalId,
                            method: 'POST',
                            contentType: 'application/json',
                            success: function(res){

                                alert(res);
                                button.closest(".card").addClass("hasHate");


                            },
                            error: function(xhr, status, error){

                             alert('error : ',error);

                            }

                        })


                    }





                })


                /**
                * 관심없음 리스트 찾아서 색 바꾸기
                *
                */
                function findHateList(){

                    var cardList = document.querySelectorAll(".card");

                    $.ajax({

                        url: '/festival/findHateList',
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $.each(cardList, function(index, card){

                                var cardString = card.getAttribute('value');
                                var cardInt = parseInt(cardString, 10);

                                if(list.includes(cardInt)){

                                    $(card).addClass("hasHate");

                                }
                            })
                        }
                    })

                }



                findLoveList();
                findHateList();


                //#endregion


                //#region 카드 내용 바꾸기 버튼 이벤트


                /**
                * 상세설명 버튼
                *
                */
                $(document).on('click','#detailBtn', function(){

                    $('#detailDescripZone').removeClass("hide");
                    $('#review').addClass("hide");
                    $('#youtubeList').addClass("hide");
                    $('#naverNews').addClass("hide");
                    $('#naverBlog').addClass("hide");
                    $('#mapDiv').addClass("hide");

                })


                /**
                * 리뷰 버튼
                *
                */
                $(document).on('click','#reviewBtn', function(){

                    $('#detailDescripZone').addClass("hide");
                    $('#review').removeClass("hide");
                    $('#youtubeList').addClass("hide");
                    $('#naverNews').addClass("hide");
                    $('#naverBlog').addClass("hide");
                    $('#mapDiv').addClass("hide");

                })


                /**
                * 관련 동영상 버튼
                *
                */
                $(document).on('click','#youtubeBtn', function(){

                    $('#detailDescripZone').addClass("hide");
                    $('#review').addClass("hide");
                    $('#youtubeList').removeClass("hide");
                    $('#naverNews').addClass("hide");
                    $('#naverBlog').addClass("hide");
                    $('#mapDiv').addClass("hide");

                })


                /**
                * 네이버 기사 버튼
                *
                */
                $(document).on('click','#naverArticleBtn', function(){

                    $('#detailDescripZone').addClass("hide");
                    $('#review').addClass("hide");
                    $('#youtubeList').addClass("hide");
                    $('#naverNews').removeClass("hide");
                    $('#naverBlog').addClass("hide");
                    $('#mapDiv').addClass("hide");

                })


                /**
                * 네이버 블로그 버튼
                *
                */
                $(document).on('click','#naverBlogBtn', function(){

                    $('#detailDescripZone').addClass("hide");
                    $('#review').addClass("hide");
                    $('#youtubeList').addClass("hide");
                    $('#naverNews').addClass("hide");
                    $('#naverBlog').removeClass("hide");
                    $('#mapDiv').addClass("hide");

                })


                /**
                * 찾아오시는 길 버튼
                *
                */
                $(document).on('click','#mapBtn', function(){

                    $('#detailDescripZone').addClass("hide");
                    $('#review').addClass("hide");
                    $('#youtubeList').addClass("hide");
                    $('#naverNews').addClass("hide");
                    $('#naverBlog').addClass("hide");
                    $('#mapDiv').removeClass("hide");

                })




                //#end region




                //#region 디테일 카드 관련 함수

                /**
                * 컨텐트 키워드 가져와서 넣어주기
                * @param {int} festivalId 축제 아이디
                *
                */
                function findContentKeywordList(festivalId){

                    $.ajax({

                        url: '/festival/findContentKeywordListByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $('div#contentKeyword').html("");

                            $.each(list, function(index, keyword){

                                var keywordHtml = `<button class="keyword contentKeyword">${keyword.festivalKeywordId}</button>`;
                                $('#contentKeyword').append(keywordHtml);

                            })

                        }

                    })

                }

                findContentKeywordList(festivalId);


                /**
                * 시간대 상세 설명 넣어주기
                * @param {int} festivalId 축제 아이디
                *
                */
                function findTimeIdByFestivalId(festivalId){

                    $.ajax({

                        url: '/festival/findTimeIdByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(time){

                            $('div#timeId').html("");

                            var timeHtml = `<p>시간대 : ${time.timeDescription}</p>`;
                            $('div#timeId').append(timeHtml);

                        }

                    })

                }

                findTimeIdByFestivalId(festivalId);

                //#endregion




                //#region 리뷰 관련 함수


                /**
                * 텍스트 에어리어 클릭 시 처음으로 가게 함
                *
                */
                $(document).on('click','#reviewTextArea', function(){

                    this.setSelectionRange(0,0);

                })


                /**
                * 페이지당 리뷰 리스트 가져와서 넣어주기
                * @param {int} festivalId 축제아이디
                * @param {int} userId 유저아이디
                * @param {int} page 페이지
                */
                function findFestivalReviewListByVWUserReviewDTO(festivalId, userId, page){

                    festivalId = festivalId + "";

                    $.ajax({

                        url: '/festival/findFestivalReviewListByVWUserReviewDTO?festivalId=' + festivalId + "&page=" + page,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $('#reviewList').html("");

                            $.each(list, function(index, review){

                                var index1 = (index + 1) + (page-1)*5;

                                var reviewHtml = ``;
                                var profilePic = ``;
                                var attachment = ``;

                                var reviewUserId = review.userId;

                                if((review.userProfilePic == null) || (review.userProfilePic == "")){

                                     profilePic = `
                                     <td class="userProfilePic" style="width: 100px">
                                        <img src="/img/festival/noPhoto.png" style="height: 50px;">
                                     </td>
                                    `


                                }else{

                                    profilePic = `
                                    <td class="userProfilePic" style="width: 100px">
                                        <img src="${review.userProfilePic}" height="50px">
                                    </td>
                                    `
                                }



                                if((review.attachment == null) || (review.attachment == "")){

                                    attachment = `
                                    <td style="width: 100px">
                                        <img src="/img/festival/noPhoto.png" style="height: 50px;">
                                    </td>
                                    `

                                }else{

                                    attachment = `
                                    <td style="width: 100px">
                                        <img src="${review.attachment}" height="50px">
                                    </td>
                                    `

                                }


                                if(userId == reviewUserId){

                                     reviewHtml = `

                                        <tr class="reviewRow" id="review.festivalReviewId">

                                            <td class="index1" style="width: 100px">
                                                ${index1}
                                            </td>` +

                                            profilePic

                                            +

                                            `<td class="reviewUserName" style="width: 100px">
                                                ${review.userName}
                                            </td>


                                            <td style="width: 200px">
                                            <form id="reviewForm_${review.festivalReviewId}">
                                                <div class="star-rating2">
                                                    <input type="radio" id="star5_${review.festivalReviewId}" name="reviewStar" value="5" ${review.festivalReviewStar == 5? 'checked' : ''}/>
                                                    <label for="star5_${review.festivalReviewId}">★</label>
                                                    <input type="radio" id="star4_${review.festivalReviewId}" name="reviewStar" value="4" ${review.festivalReviewStar == 4? 'checked' : ''}/>
                                                    <label for="star4_${review.festivalReviewId}">★</label>
                                                    <input type="radio" id="star3_${review.festivalReviewId}" name="reviewStar" value="3" ${review.festivalReviewStar == 3? 'checked' : ''}/>
                                                    <label for="star3_${review.festivalReviewId}">★</label>
                                                    <input type="radio" id="star2_${review.festivalReviewId}" name="reviewStar" value="2" ${review.festivalReviewStar == 2? 'checked' : ''}/>
                                                    <label for="star2_${review.festivalReviewId}">★</label>
                                                    <input type="radio" id="star1_${review.festivalReviewId}" name="reviewStar" value="1" ${review.festivalReviewStar == 1? 'checked' : ''}/>
                                                    <label for="star1_${review.festivalReviewId}">★</label>
                                                </div>
                                                <input type="hidden" value="${review.festivalReviewId}" name="festivalReviewId">
                                                <input type="hidden" value="${festivalId}" name="festivalId">
                                                <textarea class="reviewText" rows="2" cols="100" name="reviewText">${review.festivalReviewContent}</textarea>
                                            </form>
                                            </td>`

                                            +

                                            attachment

                                            +

                                            `<td style="width: 130px">
                                                <button class="updateBtn" value="${review.festivalReviewId}" type="button">수정</button>
                                            </td>


                                            <td style="width: 130px">
                                                <button class="deleteBtn" value="${review.festivalReviewId}">삭제</button>
                                            </td>

                                        </tr>
                                     `;

                                }else{

                                    var reviewStarNum = review.festivalReviewStar;
                                    var reviewStarHtml = ``;

                                    for(let i = 1; i <= reviewStarNum; i++){

                                        var append = `
                                        <label style="color: #f6d74d;">★</label>
                                        `;
                                        reviewStarHtml += append;
                                    }

                                    if(reviewStarNum < 5){

                                        for(let i = reviewStarNum + 1; i <= 5; i++){

                                            var append = `
                                            <label>★</label>
                                            `;
                                            reviewStarHtml += append;

                                        }
                                    }



                                    reviewHtml = `

                                        <tr class="reviewRow" id="review.festivalReviewId">

                                            <td class="index1" style="width: 15px">
                                                ${index1}
                                            </td>`

                                            +

                                            profilePic

                                            +

                                            `<td class="reviewUserName" style="width: 100px">
                                                ${review.userName}
                                            </td>

                                            <td style="width: 700px">
                                                <div class="star" style="width: 100%">`

                                                 + reviewStarHtml +

                                                `</div>



                                                <p class="reviewText" rows="2" cols="100" style="width: 100%">${review.festivalReviewContent}</p>
                                            </td>`

                                            +

                                            attachment

                                            +

                                            `<td style="width: 100px">
                                            </td>

                                            <td style="width: 100px">
                                            </td>

                                        </tr>
                                     `;

                                }

                                $('#reviewList').append(reviewHtml);

                            })

                        }

                    })

                }

                findFestivalReviewListByVWUserReviewDTO(festivalId,userId, 1);


                /**
                * 전체 리뷰 페이지 버튼 만들기
                * @param {int} festivalId 축제아이디
                *
                */
                function findFestivalReviewCountByVWUserReviewDTO(festivalId){

                    $.ajax({

                        url: '/festival/findFestivalReviewCountByVWUserReviewDTO?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(count){

                            $('#reviewPages').html("");

                            var pages = 0;

                            if(count % 5 == 0){
                                pages = count / 5;
                            }else{
                                pages = count / 5 + 1;
                            }

                            for(var p=1; p<=pages; p++){

                                $('#reviewPages').append(`<button class="pageBtn1" style="font-size: 20px; margin: 0.3%;">${p}</button>`)

                            }


                        }

                    })
                }


                findFestivalReviewCountByVWUserReviewDTO(festivalId);


                /**
               * 리뷰 페이지 버튼에 해당 페이지의 순서에 해당하는 데이터 보이는 클릭 이벤트 추가
               */
                $(document).on('click','.pageBtn1', function(){

                    const page = $(this).text();
                    findFestivalReviewListByVWUserReviewDTO(festivalId, userId, page);

                })


                /**
                * 리뷰를 테이블에 담고 이미지는 네이버 스토리지에 저장함
                * @param {int} festivalId 축제아이디
                *
                */
                $(document).on('click','#reviewInsertBtn', function(){

                    var festivalId = $(this).val();

                    var formData = new FormData($('#reviewForm')[0]);

                    $.ajax({

                        url: '/festival/insertFestivalReview',
                        method: 'POST',
                        data: formData,
                        processData: false,
                        contentType: false,
                        success: function(){

                            $('#reviewTextArea').val("");
                            var stars = document.querySelectorAll('input[name="reviewStar"]');
                            stars.forEach(star=>{
                                star.checked = false;
                            });
                            $('#uploadFile').val(null);

                            alert("리뷰 제출 성공");

                            festivalId = festivalId+"";
                            findFestivalReviewListByVWUserReviewDTO(festivalId,userId, 1);


                        },
                        error: function(error){
                            alert(error);
                        }
                    })
                })



                /**
                * 리뷰 삭제
                *
                */
                $(document).on('click','.deleteBtn', function(){

                    var festivalReviewId = $(this).val();

                    $.ajax({

                        url: '/festival/deleteFestivalReviewByReviewId?festivalReviewId=' + festivalReviewId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(res){

                            alert(res);

                            findFestivalReviewListByVWUserReviewDTO(festivalId,userId, 1);



                        }
                    })
                })




                /**
                * 리뷰 수정
                *
                */
                $(document).on('click','.updateBtn', function(){

                    var festivalReviewId = $(this).val();
                    var formId = `#reviewForm_${festivalReviewId}`;
                    var formData = new FormData($(formId)[0]);

                    $.ajax({

                        url: '/festival/updateFestivalReview',
                        method: 'POST',
                        data: formData,
                        processData: false,
                        contentType: false,
                        success: function(res){

                            alert("리뷰 수정 성공!!");
                            findFestivalReviewListByVWUserReviewDTO(festivalId,userId, 1);
                        }
                    })
                })


                /**
                * 리뷰 키워드 가져와서 넣어주기
                * @param {int} festivalId 축제 아이디
                *
                */
                function findReviewKeywordList(festivalId){

                    $.ajax({

                        url: '/festival/findReviewKeywordListByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $('div#reviewKeyword').html("");

                            $.each(list, function(index, keyword){

                                var keywordHtml = `<button class="keyword reviewKeyword">${keyword.festivalKeywordId}</button>`;
                                $('#reviewKeyword').append(keywordHtml);

                            })

                        }

                    })

                }

                findReviewKeywordList(festivalId);



                /**
                * 탭 키 등으로 포커스 된 상태에서 에로우 키보드를 누르면 FLEX REVERSE여서 반대로 순서가 되는 것을 방지하기 위해 넣는 내용
                *
                *
                */
                for (const starRating of document.getElementsByClassName("star-rating")) {
                  starRating.addEventListener("keydown", (e) => {
                    let action;
                    if (e.key === "ArrowRight" || e.key === "ArrowDown") {
                      action = "next";
                    } else if (e.key === "ArrowLeft" || e.key === "ArrowUp") {
                      action = "previous";
                    } else {
                      return;
                    }

                    e.preventDefault();

                    const inputs = Array.from(starRating.querySelectorAll("input"));

                    for (let i = 0; i < inputs.length; i++) {
                      if (document.activeElement === inputs[i]) {
                        // focus the next/previous element, since we have reversed the order of the elements we need to subtract on next and add on previous
                        let focusToIndex = action === "next" ? i - 1 : i + 1;
                        if (focusToIndex < 0) focusToIndex = inputs.length - 1;
                        if (focusToIndex >= inputs.length) focusToIndex = 0;

                        inputs[focusToIndex].focus();
                        inputs[focusToIndex].checked = true;
                        break;
                      }
                    }
                  });
                }

                //#endregion



                //#region 아래 축제 추천 리스트 관련 함수


                /**
                * 해당 축제를 제외한 같은 지역의 축제의 리스트 가져오기
                * @param {int} festivalId 축제아이디
                * @param {int} regionId 지역아이디
                */
                function findSameRegionFestivalByRegionId(festivalId, regionId){

                    $.ajax({

                        url: '/festival/findSameRegionFestivalByRegionId',
                        method: 'POST',
                        data: {
                            festivalId: festivalId,
                            regionId: regionId
                        },
                        success: function(list){

                            $('#recommendCardList').html("");

                            $.each(list, function(index, festival){

                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";

                                var firstHtml= ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="/img/festival/noPhoto.png" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }else{

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="${festival.imgUrl}" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }


                                var secondHtml = `
                                    <div class="card-body">
                                          <h5 class="card-title">${festival.festivalName}</h5>
                                          <p class="card-text">${content}</p>
                                          <div>
                                              <a href="/festival/festival-detail?festivalId=${festival.festivalId}" class="btn btn-primary">자세히</a>
                                              <button class="btn btn-primary heart" type="button" style="margin:0px" value="${festival.festivalId}">
                                                  <img src="/img/festival/heart.png"
                                                       style="width : 20px; height: 20px;">
                                              </button>
                                              <button class="btn btn-primary hate" type="button" style="margin:0px" value="${festival.festivalId}">
                                                    <img src="/img/festival/trash.png"
                                                         style="width : 20px; height: 20px;">
                                              </button>
                                          </div>
                                    </div>

                                </div>
                                `;


                                var finalHtml = firstHtml + secondHtml;

                                $('#recommendCardList').append(finalHtml);

                                findLoveList();
                                findHateList();



                            })

                        }

                    })

                }




                /**
                * 같은 지역 추천 리스트 버튼 클릭 이벤트 함수
                *
                */
                $(document).on('click','#regionRecommend', function(){

                    var regionId = $(this).val();
                    findSameRegionFestivalByRegionId(festivalId, regionId);

                })


                // 초기 화면에 같은 지역 추천 보이게 하기
                findSameRegionFestivalByRegionId(festivalId, regionId);




                /**
                * 해당 축제를 제외한 같은 계절의 축제의 리스트 가져오기
                * @param {int} festivalId 축제아이디
                * @param {string} season 계절
                */
                function findSameSeasonFestivalBySeason(festivalId, season){

                    $.ajax({

                        url: '/festival/findSameSeasonFestivalBySeason',
                        method: 'POST',
                        data: {
                            festivalId: festivalId,
                            season: season
                        },
                        success: function(list){

                            $('#recommendCardList').html("");

                            $.each(list, function(index, festival){

                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";

                                var firstHtml= ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="/img/festival/noPhoto.png" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }else{

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="${festival.imgUrl}" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }


                                var secondHtml = `
                                    <div class="card-body">
                                          <h5 class="card-title">${festival.festivalName}</h5>
                                          <p class="card-text">${content}</p>
                                          <div>
                                              <a href="/festival/festival-detail?festivalId=${festival.festivalId}" class="btn btn-primary">자세히</a>
                                              <button class="btn btn-primary heart" type="button" style="margin:0px" value="${festival.festivalId}">
                                                  <img src="/img/festival/heart.png"
                                                       style="width : 20px; height: 20px;">
                                              </button>
                                              <button class="btn btn-primary hate" type="button" style="margin:0px" value="${festival.festivalId}">
                                                    <img src="/img/festival/trash.png"
                                                         style="width : 20px; height: 20px;">
                                              </button>
                                          </div>
                                    </div>

                                </div>
                                `;


                                var finalHtml = firstHtml + secondHtml;

                                $('#recommendCardList').append(finalHtml);

                                findLoveList();
                                findHateList();



                            })

                        }

                    })

                }




                /**
                * 같은 계절 추천 리스트 버튼 클릭 이벤트 함수
                *
                */
                $(document).on('click','#seasonRecommend', function(){

                    var season = $(this).val();
                    findSameSeasonFestivalBySeason(festivalId, season);

                })



                /**
                * 해당 축제를 제외한 같은 주체기관의 축제의 리스트 가져오기
                * @param {int} festivalId 축제아이디
                * @param {manageInstitution} manageInstitution 주체기관
                */
                function findSameManageFestivalByManageInstitution(festivalId, manageInstitution){

                    $.ajax({

                        url: '/festival/findSameManageFestivalByManageInstitution',
                        method: 'POST',
                        data: {
                            festivalId: festivalId,
                            manageInstitution: manageInstitution
                        },
                        success: function(list){

                            $('#recommendCardList').html("");

                            $.each(list, function(index, festival){

                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";

                                var firstHtml= ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="/img/festival/noPhoto.png" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }else{

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="${festival.imgUrl}" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }


                                var secondHtml = `
                                    <div class="card-body">
                                          <h5 class="card-title">${festival.festivalName}</h5>
                                          <p class="card-text">${content}</p>
                                          <div>
                                              <a href="/festival/festival-detail?festivalId=${festival.festivalId}" class="btn btn-primary">자세히</a>
                                              <button class="btn btn-primary heart" type="button" style="margin:0px" value="${festival.festivalId}">
                                                  <img src="/img/festival/heart.png"
                                                       style="width : 20px; height: 20px;">
                                              </button>
                                              <button class="btn btn-primary hate" type="button" style="margin:0px" value="${festival.festivalId}">
                                                    <img src="/img/festival/trash.png"
                                                         style="width : 20px; height: 20px;">
                                              </button>
                                          </div>
                                    </div>

                                </div>
                                `;


                                var finalHtml = firstHtml + secondHtml;

                                $('#recommendCardList').append(finalHtml);

                                findLoveList();
                                findHateList();



                            })

                        }

                    })

                }




                /**
                * 같은 주체기관 추천 리스트 버튼 클릭 이벤트 함수
                *
                */
                $(document).on('click','#manageInstRecommend', function(){

                    var manageInstitution = $(this).val();
                    findSameManageFestivalByManageInstitution(festivalId, manageInstitution);

                })



                /**
                * 해당 축제를 제외한 같은 키워드의 축제 리스트 가져오기
                * @param {int} festivalId 축제아이디
                */
                function findSameKeywordFestivalByfestivalId(festivalId){

                    $.ajax({

                        url: '/festival/findSameKeywordFestivalByfestivalId',
                        method: 'POST',
                        data: {
                            festivalId: festivalId
                        },
                        success: function(list){

                            $('#recommendCardList').html("");

                            $.each(list, function(index, festival){

                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";

                                var firstHtml= ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="/img/festival/noPhoto.png" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }else{

                                    firstHtml = `
                                        <div class="card recommendCard" style="width: 18rem;" id="${festival.festivalId}" value="${festival.festivalId}">
                                            <img class="card-img-top" src="${festival.imgUrl}" alt="Card image cap" style="min-width: 380px; min-height: 400px;">

                                    `;

                                }


                                var secondHtml = `
                                    <div class="card-body">
                                          <h5 class="card-title">${festival.festivalName}</h5>
                                          <p class="card-text">${content}</p>
                                          <div>
                                              <a href="/festival/festival-detail?festivalId=${festival.festivalId}" class="btn btn-primary">자세히</a>
                                              <button class="btn btn-primary heart" type="button" style="margin:0px" value="${festival.festivalId}">
                                                  <img src="/img/festival/heart.png"
                                                       style="width : 20px; height: 20px;">
                                              </button>
                                              <button class="btn btn-primary hate" type="button" style="margin:0px" value="${festival.festivalId}">
                                                    <img src="/img/festival/trash.png"
                                                         style="width : 20px; height: 20px;">
                                              </button>
                                          </div>
                                    </div>

                                </div>
                                `;


                                var finalHtml = firstHtml + secondHtml;

                                $('#recommendCardList').append(finalHtml);

                                findLoveList();
                                findHateList();



                            })

                        }

                    })

                }




                /**
                * 같은 키워드 추천 리스트 버튼 클릭 이벤트 함수
                *
                */
                $(document).on('click','#keywordRecommend', function(){

                    var festivalId = $(this).val();
                    findSameKeywordFestivalByfestivalId(festivalId);

                })












                //#endregion



                //#region 관련 유튜브 추천 부분


                /**
                * 해당 축제의 이름과 관련된 유튜브를 페이지 번호에 따라 가져오기
                * @param {string} festivalName 축제 이름
                * @param {int} page 유튜브 페이지
                */
                function findFestivalYoutube(page, formattedStart, festivalName){

                    $.ajax({

                        url: '/festival/findFestivalYoutube',
                        method: 'POST',
                        data: {
                            page: page,
                            formattedStart: festival.formattedStart,
                            festivalName: festival.festivalName
                        },
                        success: function(youtubeId){

                            $('#players').html("");

                            if(youtubeId == "noId"){

                                var youtubeHtml = `<h3>관련 영상 존재 안함<h3>`;

                            }else{

                                var youtubeHtml = `
                                <iframe width="100%" height="800px" src="https://www.youtube.com/embed/`
                                +  youtubeId  +
                                `" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`;

                                findYoutubePageBtns(5);

                            }



                            $('#players').html(youtubeHtml);


                        }
                    })
                }

                findFestivalYoutube(1, formattedStart, festivalName);

                /**
                * 유투브 페이지 버튼 추가
                * @param {int} numbers 유튜브 페이지 숫자
                */
                function findYoutubePageBtns(numbers){

                    $('#youtubePages').html("");

                    for(var p=1; p<=numbers; p++){

                            $('#youtubePages').append(`<button class="youtubeBtn" style="margin: 0.5%;">${p}</button>`)

                    }
                }




                /**
                * 유튜부 페이지 버튼 클릭 함수
                *
                */
                $(document).on('click','.youtubeBtn', function(){

                    var page = $(this).text();
                    findFestivalYoutube(page, formattedStart, festivalName);

                })


                //#endregion





                //#region 관련 네이버 기사 추천 부분


                /**
                * 해당 축제의 이름과 관련된 네이버 기사를 페이지 번호에 따라 가져오기
                * @param {string} festival 축제
                * @param {int} page 유튜브 페이지
                */
                function findFestivalNaverArticle(page, festivalId){

                    $.ajax({

                        url: '/festival/findFestivalNaverArticle',
                        method: 'POST',
                        data: {
                            festivalId: festivalId,
                            page: page
                        },
                        success: function(article){

                            var imgUrl = article.imgUrl;
                            var desc = article.description;
                            var title = article.title;
                            var originalLink = article.originalLink;

                            $('#artlcles').html("");

                            var imgHtml = ``;

                            if( festival.imgUrl || festival.imgUrl != "null" || festival.imgUrl != ""){

                                imgHtml = `<img class="card-img-top" src="${imgUrl}" alt="이미지 로딩 실패" style="width: auto;height: auto;">`;

                            }else{


                                imgHtml = `<img class="card-img-top" src="/img/festival/noPhoto.png" alt="이미지 로딩 실패" style="width: auto;height: auto;">`;

                            }

                            var artlcleHtml = `


                                <div class="card" style="width: 100%; height:100%">`

                                 + imgHtml +

                                 `<div class="card-body">
                                    <h3 class="card-title">${title}</h5>
                                    <p class="card-text">${desc}</p>
                                    <a href="${originalLink}" class="btn btn-primary">기사 보기</a>
                                  </div>
                                </div>


                                `;

                            $('#artlcles').html(artlcleHtml);


                        }
                    })
                }

                findFestivalNaverArticle(1, festivalId);

                /**
                * 기사 페이지 버튼 추가
                * @param {int} numbers 기사 페이지 숫자
                */
                function findArticlePageBtns(numbers){

                    $('#articlePages').html("");

                    for(var p=1; p<=numbers; p++){

                            $('#articlePages').append(`<button class="articleBtn" style="margin:0.5%;">${p}</button>`)

                    }
                }

                findArticlePageBtns(5);


                /**
                * 같은 주체기관 추천 리스트 버튼 클릭 이벤트 함수
                *
                */
                $(document).on('click','.articleBtn', function(){

                    var page = $(this).text();
                    findFestivalNaverArticle(page, festivalId);

                })


                /**
                * 네이버 기사 키워드 가져와서 넣어주기
                * @param {int} festivalId 축제 아이디
                *
                */
                function findNaverArticleKeywordList(festivalId){

                    $.ajax({

                        url: '/festival/findNaverArticleKeywordListByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $('div#naverArticleKeyword').html("");

                            $.each(list, function(index, keyword){

                                var keywordHtml = `<button class="keyword naverArticleKeyword">${keyword.festivalKeywordId}</button>`;
                                $('#naverArticleKeyword').append(keywordHtml);

                            })

                        }

                    })

                }

                findNaverArticleKeywordList(festivalId);






                //#endregion




                //#region 관련 네이버 블로그 추천 부분


                /**
                * 해당 축제의 이름과 관련된 네이버 블로그를 페이지 번호에 따라 가져오기
                * @param {string} festivalName 축제 이름
                * @param {int} page 블로그 페이지
                */
                function findFestivalNaverBlog(page, formattedStart, festivalName){

                    $.ajax({

                        url: '/festival/findFestivalNaverBlog',
                        method: 'POST',
                        data: {
                            page: page,
                            formattedStart: festival.formattedStart,
                            festivalName: festival.festivalName
                        },
                        success: function(blog){

                            var imgUrl = blog.imgUrl;
                            var desc = blog.description;
                            var title = blog.title;
                            var link = blog.link;
                            var bloggerName = blog.bloggerName;

                            $('#blogs').html("");

                            var imgHtml = `<img class="card-img-top" src="/img/festival/naverBlog.png" alt="이미지 로딩 실패" style="width: 99%">`;

    <!--                        if( blog.imgUrl || blog.imgUrl != "null" || blog.imgUrl != ""){-->

    <!--                            imgHtml = `<img class="card-img-top" src="${imgUrl}" alt="이미지 로딩 실패">`;-->

    <!--                        }else{-->


    <!--                            imgHtml = `<img class="card-img-top" src="/img/festival/noPhoto.png" alt="이미지 로딩 실패">`;-->

    <!--                        }-->

                            var blogHtml = `

                                <div class="card" style="width: 100%; height:55rem">`

                                 + imgHtml +

                                 `<div class="card-body">
                                    <h3 class="card-title">${title}</h5>
                                    <p>${bloggerName}</p>
                                    <p class="card-text">${desc}</p>
                                    <a href="${link}" class="btn btn-primary">블로그 보기</a>
                                  </div>
                                </div>


                                `;

                            $('#blogs').html(blogHtml);


                        }
                    })
                }

                findFestivalNaverBlog(1, formattedStart, festivalName);

                /**
                * 블로그 페이지 버튼 추가
                * @param {int} numbers 기사 페이지 숫자
                */
                function findBlogPageBtns(numbers){

                    $('#blogPages').html("");

                    for(var p=1; p<=numbers; p++){

                        $('#blogPages').append(`<button class="blogBtn" style="margin: 0.5%;">${p}</button>`);

                    }
                }

                findBlogPageBtns(5);


                /**
                * 블로그 페이지 클릭 함수
                *
                */
                $(document).on('click','.blogBtn', function(){

                    var page = $(this).text();
                    findFestivalNaverBlog(page, formattedStart, festivalName);

                })



                /**
                * 네이버 블로그 키워드 가져와서 넣어주기
                * @param {int} festivalId 축제 아이디
                *
                */
                function findNaverBlogKeywordList(festivalId){

                    $.ajax({

                        url: '/festival/findNaverBlogKeywordListByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $('div#naverBlogKeyword').html("");

                            $.each(list, function(index, keyword){

                                var keywordHtml = `<button class="keyword naverBlogKeyword">${keyword.festivalKeywordId}</button>`;
                                $('#naverBlogKeyword').append(keywordHtml);

                            })

                        }

                    })

                }

                findNaverBlogKeywordList(festivalId);



                //#endregion







            }
        )

    </script>
    <script th:inline="javascript"
            th:src="'https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=' + ${naverClientId}"></script>


</head>
<body>

<div layout:fragment="content">

    <div id="columnFlow" style="width:100%">

        <div id="upperZone">

            <div id="detailCardZone">

                <div class="card" id="detailCard" style="width: 100rem;" th:value="${festival.festivalId}">

                    <div th:switch="${festival.imgUrl}">

                        <img th:case="''" class="card-img-top" src="/img/festival/noPhoto.png" alt="이미지가 없습니다">
                        <img th:case="'null'" class="card-img-top" src="/img/festival/noPhoto.png" alt="이미지가 없습니다">
                        <img th:case="null" class="card-img-top" src="/img/festival/noPhoto.png" alt="이미지가 없습니다">
                        <img th:case="*" class="card-img-top" th:src="@{${festival.imgUrl}}" alt="이미지가 없습니다">

                    </div>

                    <h1 class="card-title" th:text="${festival.festivalName}"></h1>

                    <div id="contentBtnZone">
                        <button id="detailBtn">상세 설명</button>
                        <button id="reviewBtn">리뷰</button>
                        <button id="youtubeBtn">관련 동영상</button>
                        <button id="naverArticleBtn">네이버 뉴스</button>
                        <button id="naverBlogBtn">네이버 블로그</button>
                        <button id="mapBtn">찾아오는 길</button>

                    </div>



                    <div class="card-body" style="width:100%">

                        <div id="detailDescripZone">

                            <div id="contentKeyword" style="width:100%">
                            </div>

                            <div th:switch="${festival.detailAddress}">

                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'주소 : '+${festival.detailAddress}"></p>

                            </div>
                            <div th:switch="${festival.season}">

                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'계절 : '+${festival.season}"></p>

                            </div>
                            <div th:switch="${festival.formattedStart}">
                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'시작일 : '+${festival.formattedStart}"></p>

                            </div>
                            <div th:switch="${festival.formattedEnd}">
                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'종료일 : '+${festival.formattedEnd}"></p>

                            </div>
                            <div th:value="${festival.timeId}" id="timeId">

                                <p> 시간대 자세한 설명 ajax</p>

                            </div>
                            <div th:switch="${festival.manageInstitution}">

                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'주체기관 : '+${festival.manageInstitution}"></p>

                            </div>
                            <div th:switch="${festival.hostInstitution}">

                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'주관기관 : '+${festival.hostInstitution}"></p>

                            </div>
                            <div th:switch="${festival.sponserInstitution}">

                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'후원기관 : '+${festival.sponserInstitution}"></p>

                            </div>
                            <div th:switch="${festival.homepageUrl}">

                                <a th:case="''"></a>
                                <a th:case="'null'"></a>
                                <a th:case="null"></a>
                                <a th:if="${!festival.homepageUrl.startsWith('https') and !festival.homepageUrl.startsWith('http') and !festival.homepageUrl.startsWith('www')}"></a>
                                <a th:if="${festival.homepageUrl.startsWith('https') or festival.homepageUrl.startsWith('http') or festival.homepageUrl.startsWith('www')}"
                                   th:href="@{${festival.homepageUrl}}">홈페이지</a>

                            </div>
                            <div th:switch="${festival.place}">
                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'장소 : '+${festival.place}"></p>
                            </div>
                            <div th:switch="${festival.tel}">
                                <p th:case="''"></p>
                                <p th:case="'null'"></p>
                                <p th:case="null"></p>
                                <p th:case="*" th:text="'전화번호 : '+${festival.tel}"></p>
                            </div>
                            <p class="card-text" th:text="${festival.festivalContent}"></p>

                        </div>

                        <div id="review" class="hide" style="width: 100%">

                            <div id="reviewKeyword" style="width:100%">
                            </div>

                            <h3>리뷰 작성하기</h3>

                            <div>

                                <!--                        <img src="/img/festival/reviewAttach/2f9d6fe0-28a4-4f4d-a64f-a260ce75d47f_스크린샷 2024-07-04 162835.png">-->
<!--                                https://www.putzisan.com/articles/html-css-star-rating-input-->
                                <form id="reviewForm" encType="multipart/form-data">

                                    <textarea name="reviewTextArea" id="reviewTextArea" rows="4" cols="150"
                                              placeholder="리뷰를 입력하세요">
                                    </textarea>
                                    <div class="star-rating">
<!--                                        FLEX-REVERSE-->
                                        <input type="radio" id="sr-0-5" name="reviewStar" value="5" />
                                        <label for="sr-0-5">★</label>
                                        <input type="radio" id="sr-0-4" name="reviewStar" value="4" />
                                        <label for="sr-0-4">★</label>
                                        <input type="radio" id="sr-0-3" name="reviewStar" value="3" />
                                        <label for="sr-0-3">★</label>
                                        <input type="radio" id="sr-0-2" name="reviewStar" value="2" />
                                        <label for="sr-0-2">★</label>
                                        <input type="radio" id="sr-0-1" name="reviewStar" value="1" />
                                        <label for="sr-0-1">★</label>
                                    </div>
<!--                                    <input name="reviewStar" id="reviewStar" type="number" step="0.5" value="3" max="5"-->
<!--                                           min="0" style="width: 40px; height: 40px">-->
                                    <input name="uploadFile" id="uploadFile" type="file" accept="image/*">
                                    <input name="festivalId" type="hidden" th:value="${festival.festivalId}">
                                    <button id="reviewInsertBtn" type="button" th:value="${festival.festivalId}">리뷰 제출</button>

                                </form>

                            </div>
                            <br><br>
                            <div id="reviewListHead">

                                <table class="table table-striped" id="reviewTable" style="text-align: center;">

                                    <thead class="table-light">
                                    <tr style="text-align: center;">
                                        <th scope="col" style="width: 15px">#</th>
                                        <th scope="col" style="width: 100px">프로필</th>
                                        <th scope="col" style="width: 300px">이름</th>
                                        <th scope="col" style="width: 700px">별점 / 내용</th>
                                        <th scope="col" style="width: 130px">첨부파일</th>
                                        <th scope="col" style="width: 130px">수정</th>
                                        <th scope="col" style="width: 130px">삭제</th>
                                    </tr>
                                    </thead>
                                    <tbody id="reviewList">

                                    </tbody>

                                </table>
                            </div>

                            <div id="reviewPages">

                            </div>

                        </div>

                        <div id="youtubeList" class="hide" style="width: 100%">

                            <div id="players">
                            </div>
                            <br>
                            <div id="youtubePages" style="font-size: 20px;">
                            </div>

                        </div>

                        <div id="naverNews" class="hide" style="width: 100%">

                            <div id="naverArticleKeyword" style="width:100%">
                            </div>

                            <div id="artlcles">

                            </div>

                            <br>

                            <div id="articlePages" style="font-size: 20px;">

                            </div>

                        </div>

                        <div id="naverBlog" class="hide" style="width: 100%">

                            <div id="naverBlogKeyword" style="width:100%">
                            </div>

                            <div id="blogs">

                            </div>

                            <br>

                            <div id="blogPages" style="font-size: 20px;">

                            </div>

                        </div>

                        <div id="mapDiv" class="hide" style="width: 100%">

                            <div id="map" style="width:100%;height:800px;"></div>
                            <script th:inline="javascript">

                                //#region 네이버 지도

                                    var festival = [[${festival}]];
                                    var latitude = festival.latitude;
                                    var longtitude = festival.longtitude;

                                    var position = new naver.maps.LatLng(latitude, longtitude);

                                    var map = new naver.maps.Map('map', {
                                        center: position,
                                        zoom: 15
                                    });

                                    var marker = new naver.maps.Marker({
                                        position: position,
                                        map: map
                                    });

                                    if(latitude==0 || longtitude==0){

                                        $('#mapDiv').html("");

                                    }



                                    //#endregion


                            </script>


                        </div>

                    </div>

                    <div id="buttonZone">

                        <button class="btn btn-primary heart" type="button" style="margin:0.5%"
                                th:value="${festival.festivalId}">
                            <img src="/img/festival/heart.png"
                                 style="width : 20px; height: 20px;">
                        </button>
                        <button class="btn btn-primary hate" type="button" style="margin:0.5%"
                                th:value="${festival.festivalId}">
                            <img src="/img/festival/trash.png"
                                 style="width : 20px; height: 20px;">
                        </button>

                    </div>
                </div>


            </div>


        </div>

        <div id="downZone">


            <div id="recommendCardZone">

                <h3>
                    <img src="/img/festival/star.png" alt="이미지 없음" height="50px"> 비슷한 축제
                    <button class="btn btn-primary" id="regionRecommend" th:value="${festival.regionId}">같은 지역</button>
                    <button class="btn btn-primary" id="seasonRecommend" th:value="${festival.season}">같은 계절</button>
                    <button class="btn btn-primary" id="manageInstRecommend" th:value="${festival.manageInstitution}">
                        주체기관 동일
                    </button>
                    <button class="btn btn-primary" id="keywordRecommend" th:value="${festival.festivalId}">키워드 동일
                    </button>
                </h3>

                <div id="recommendCardList">
                </div>


            </div>

        </div>


    </div>


</div>

</body>
</html>