<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- 부트스트랩 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!--jquery-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>


    <style>

        .bg-light {
    <!--        background-color: black !important;-->
        }

        .navbar-light .navbar-nav .nav-link {
            color: rgba(0, 0, 0, .5);
    <!--        color: #174D1C;-->
        }



        .navbar-light .navbar-nav .nav-link:focus,
        .navbar-light .navbar-nav .nav-link.active {

            font-size: larger;
            font-weight: bold;
        }

        .navbar-brand{
            font-size: 2.7rem !important;
        }





    </style>

    <script>
        $(document).ready(function() {
            // 페이지 로드 시, 저장된 링크에 포커스 적용
            const activeLink = sessionStorage.getItem('activeLink');
            if (activeLink) {
                $(`.nav-link[href='${activeLink}']`).addClass('active');
            }

            // 링크 클릭 시, 해당 링크를 저장하고 포커스 적용
            $('.nav-link').on('click', function() {
                // 모든 링크의 active 클래스를 제거
                $('.nav-link').removeClass('active');
                // 클릭한 링크에 active 클래스 추가
                $(this).addClass('active');

                // 클릭한 링크의 href를 저장
                sessionStorage.setItem('activeLink', $(this).attr('href'));
            });
        });
    </script>



</head>

    <!--css 파일-->


</head>
<body>

<!--메뉴바(드롭다운 있음), 어드민 페이지 진입 버튼 포함-->

<div id="menubar">

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 100" style="width: 300px">
            <style>
                .icon { fill: #333333; }
                .korean { font-family: 'Noto Sans KR', sans-serif; font-weight: 500; }
                .english { font-family: 'Arial', sans-serif; font-weight: normal; letter-spacing: 2px; }
            </style>

            <!-- Updated triangle icon -->
            <g class="icon" transform="translate(0, 20) scale(0.6)">
                <path d="M0,60 L50,0 L100,60 L75,60 L50,20 L25,60 Z"/>
            </g>

            <!-- Korean text -->
            <text x="80" y="50" class="korean" font-size="32" fill="#333333">문 화 이 음</text>

            <!-- English text -->
            <text x="80" y="80" class="english" font-size="20" fill="#555555">C U L T U R E  L I N K</text>
        </svg>

        <!--메뉴바 링크-->
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/home">메인</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/performance/performance-home">공연</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/exhibition">전시</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/festival/festival-list">축제</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/cultural-properties">국가유산(문화재)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/board/view">게시판</a>
                </li>
            </ul>
        </div>

        <th:block sec:authorize="hasAnyAuthority('ROLE_ADMIN')">
            <!--관리자-->
            <div id="adminBtn">
                <button type="button" class="btn btn-light" th:onclick="|location.href='@{/admin/festival-regulate}'|">관리자</button>
            </div>
        </th:block>

        <th:block sec:authorize="isAnonymous">
            <!--로그인 모달-->
            <div id="login">
                <button type="button" class="btn btn-light" th:onclick="|location.href='@{/user/login}'|">로그인</button>
            </div>
        </th:block>

        <th:block sec:authorize="hasAnyAuthority('ROLE_USERS','ROLE_ADMIN')">
            <!--마이페이지-->
            <div id="mypageBtn">
                <button type="button" class="btn btn-light" th:onclick="|location.href='@{/user/myPage}'|">마이페이지</button>
            </div>


            <!--로그아웃-->
            <div id="logoutBtn">
                <button type="button" class="btn btn-light" th:onclick="|location.href='@{/user/logout}'|">로그아웃</button>
            </div>
        </th:block>


    </nav>

</div>





<!--각 페이지 내용으로 layout:fragment="content"를 div 안에 넣을 것. performanceMain2.html 또는 festivalmanage.html 참고 -->
<div layout:fragment="content"></div>

</body>
</html>