<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      layout:decorate="~{/common/layout/layoutAdminPage}">
<head>
    <link rel="stylesheet" th:href="@{/css/festival/festivalRegulate.css}">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <script th:inline="javascript">


        $(document).ready(
            function(){


                // api table
                function findAPIFestivalList(page){

                    $('#list2').html("");

                    $.ajax({

                        url: '/admin/festival-regulate/findAPIFestivalList?page=' + page,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){
                            $.each(list, function(index, festival){

                                var index1 = (index + 1) + (page-1)*5;


                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;




                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "링크없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "링크없음";

                                var htmlCheck = ``;

                                if(festival.exist=="Y"){

                                    htmlCheck= `<tr>
                                        <td>DB<br>존재</td>`


                                }else{

                                     htmlCheck = `<tr>
                                        <td><input class="check2" type="checkbox" name="index" value="${index}"/></td>`
                                }

                                var htmlContent11 =`
                                        <td class="index1">${index1}</td>
                                        <td class="regionId">${festival.regionId}</td>
                                        <td class="timeId">${festival.timeId}</td>
                                        <td class="festivalName">${festival.festivalName}</td>
                                        <td class="festivalContent">${content}</td>
                                        <td class="manageInstitution">${inst1}</td>
                                        <td class="hostInstitution">${inst2}</td>
                                        <td class="sponserInstitution">${inst3}</td>
                                        <td class="tel">${festival.tel}</td>`;

                                var htmlContent12 =``;


                                if(! festival.homepageUrl || festival.homepageUrl == "null" || festival.homepageUrl == ""){

                                    htmlContent12 = `

                                        <td class="homepageUrl"></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="startDate">${festival.formattedStart}</td>
                                        <td class="endDate">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>


                                    `;

                                }else{

                                    htmlContent12 = `

                                        <td class="homepageUrl"><a href="${festival.homepageUrl}">클릭!</a></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="startDate">${festival.formattedStart}</td>
                                        <td class="endDate">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>


                                    `;

                                }

                                var htmlContent2 = ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    htmlContent2= `
                                    <td class="imgUrl"></td></tr>
                                    `


                                }else{

                                     htmlContent2 = `
                                     <td class="imgUrl"><img src="${festival.imgUrl}" width="40px"></td></tr>
                                    `
                                }



                                var finalHtml = htmlCheck + htmlContent11 + htmlContent12 + htmlContent2;

                                $('#list2').append(finalHtml);

                            })


                        }

                    })
                }


                findAPIFestivalList(1);
                findAPIFestivalCount(20);



                // api table page number
                function findAPIFestivalCount(page){

                    $('#pageNum2').html("");

                   for(var p=1; p<=page; p++){

                    $('#pageNum2').append(`<button class="pageBtn2">${p}</button>`)

                    }

                    $(document).on('click','.pageBtn2', function(){

                        const page = $(this).text();
                        findAPIFestivalList(page);

                    })
                }




                $(document).on('click','#apiInsertBtn', function(){

                    var checks = [];

                    var selectedChecks = document.querySelectorAll("input[type='checkbox'].check2:checked");

                    $.each(selectedChecks, function(index, item){


                        checks.push($(item).val());
                        console.log($(item).val());

                    })

                    console.log(checks)

                    $.ajax({

                        url: '/admin/festival-regulate/insertAPIFestivalList',
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(checks),
                        success: function(response){

                            alert(response);
                            window.location.href='/admin/festival-regulate';

                        }


                    })


                })


                // db 조회 기능

                function findDBFestivalList(page){

                    $('#list1').html("");


                    $.ajax({

                        url: '/admin/festival-regulate/findDBFestivalList?page=' + page,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            console.log(list)

                            $.each(list, function(index, festival){

                                console.log(festival)

                                var index1 = (index + 1) + (page-1)*5;


                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;


                                console.log("축제 날짜")
                                console.log(festival.startDate);
                                console.log(festival.endDate);

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";


                                var htmlContent11 =`

                                    <tr>

                                        <td>

                                            <input class="check1" type="checkbox" name="index" value="${festival.festivalId}"/><br><hr>

                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong" id="dbUpdateBtn" value="${festival.festivalId}">상세 수정</button><br><hr>

                                            <button type="button" class="btn btn-primary"  id="contentKeywordInsertBtn" value="${festival.festivalId}">내용 키워드 추가</button>

                                        </td>
                                        <td class="index1" style="width : 20px; height: 20px;">${index1}</td>
                                        <td class="festivalId">${festival.festivalId}</td>
                                        <td class="regionId">${festival.regionId}</td>
                                        <td class="timeId">${festival.timeId}</td>
                                        <td class="festivalName">${festival.festivalName}</td>
                                        <td class="festivalContent">${content}</td>
                                        <td class="manageInstitution">${inst1}</td>
                                        <td class="hostInstitution">${inst2}</td>
                                        <td class="sponserInstitution">${inst3}</td>
                                        <td class="tel">${festival.tel}</td>`;

                                var htmlContent12 =``;

                                if(! festival.homepageUrl || festival.homepageUrl == "null" || festival.homepageUrl == ""){

                                    htmlContent12 = `

                                        <td class="homepageUrl"></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="formattedStart">${festival.formattedStart}</td>
                                        <td class="formattedEnd">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>


                                    `;

                                }else{

                                   htmlContent12 = `

                                        <td class="homepageUrl"><a href="${festival.homepageUrl}">클릭!</a></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="formattedStart">${festival.formattedStart}</td>
                                        <td class="formattedEnd">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>

                                    `;


                                }


                                var htmlContent2 = ``;

                                if(! festival.imgUrl || festival.imgUrl == "null"){

                                    htmlContent2= `
                                    <td class="imgUrl"></td></tr>
                                    `

                                }else{

                                     htmlContent2 = `
                                     <td class="imgUrl"><img src="${festival.imgUrl}" width="40px"></td></tr>
                                    `
                                }


                                var finalHtml = htmlContent11 + htmlContent12 + htmlContent2;

                                $('#list1').append(finalHtml);



                            })


                        }

                    })
                }



                findDBFestivalList(1);


                function findDBFestivalCount(){

                    $.ajax({

                        url: '/admin/festival-regulate/findDBFestivalCount',
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(count){

                            $('#pageNum1').html("");
                            console.log("카운트는...")
                            console.log(count)

                            var page = 0;

                            if(count % 5 ==0){
                                page = count/5;
                            }else{
                                page = count/5 +1;
                            }

                            for(var p=1; p<=page; p++){

                                $('#pageNum1').append(`<button class="pageBtn1">${p}</button>`)

                            }


                        }

                    })


                }

                findDBFestivalCount();

                $(document).on('click','.pageBtn1', function(){

                    const page = $(this).text();
                    findDBFestivalList(page);

                })


                // 내용 키워드 추가 기능

                $(document).on('click','#contentKeywordInsertBtn', function(){

                    var festivalId = $(this).val();

                    $.ajax({

                        url: '/admin/festival-regulate/insertContentKeywordByFestivalId?festivalId=' + festivalId,
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(list){

                            $.each(list, function(index, keyword){

                                console.log(keyword);

                            })


                        }


                    })


                })







                // 일괄 삭제 기능

                $(document).on('click','#dbDeleteBtn', function(){

                    var checks = [];

                    var selectedChecks = document.querySelectorAll("input[type='checkbox'].check1:checked");

                    $.each(selectedChecks, function(index, item){


                        checks.push($(item).val());
                        console.log($(item).val());

                    })

                    console.log(checks)

                    $.ajax({

                        url: '/admin/festival-regulate/deleteDBFestivalList',
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(checks),
                        success: function(response){

                            alert(response);
                            window.location.href='/admin/festival-regulate';

                        }


                    })


                })

                // 상세 수정 - 모달 클릭 시 보여주기


                $(document).on('click','#dbUpdateBtn', function(){

                    var festivalId = $(this).val();
                    console.log("festivalId : ")
                    console.log(festivalId)
                    console.log("#dbUpdateBtn")



                    $.ajax({

                        url: '/admin/festival-regulate/findDBFestivalByFestivalId',
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify({ festivalId : festivalId}),
                        success: function(festival){

                            $('#modalBody').html("");
                                var htmlContent2 = `

                                    <form action="/admin/festival-regulate/updateDBFestivalByFestival" method="post">

                                        DB아이디 : <input name="festivalId" type="text" class="neverClickable" value="${festival.festivalId}"><br><br>

                                        지역 번호 : <input name="regionId" type="text" class="neverClickable" value="${festival.regionId}"><br><br>

                                        시간대 : <input class="neverClickable" name="timeId"  type="text" value="${festival.timeId}"><br><br>

                                        축제 이름 : <input class="neverClickable" name="festivalName" type="text" value="${festival.festivalName}"><br><br>

                                        상세 내용 <br><textarea name="festivalContent" cols="55" rows="10">${festival.festivalContent}</textarea><br><br>

                                        주체기관 : <input class="autoWidth" name="manageInstitution" type="text" value="${festival.manageInstitution}"><br><br>

                                        주관기관 : <input class="autoWidth" name="hostInstitution" type="text" value="${festival.hostInstitution}"><br><br>

                                        후원기관 : <input class="autoWidth" name="sponserInstitution" type="text" value="${festival.sponserInstitution}"><br><br>

                                        전화번호 : <input name="tel" type="text" value="${festival.tel}"><br><br>

                                        홈페이지 : <input name="homepageUrl" type="text" value="${festival.homepageUrl}"><br><br>

                                        상세주소 : <input name="detailAddress" type="text" value="${festival.detailAddress}"><br><br>

                                        장소 : <input name="place" type="text" value="${festival.place}"><br><br>

                                        시작일 : <input name="formattedStart" type="date" value="${festival.formattedStart}"><br><br>

                                        종료일 : <input name="formattedEnd" type="date"  value="${festival.formattedEnd}"><br><br>

                                        리뷰 평균 별점 : <input name="avgRate" type="text" class="neverClickable"  value="${festival.avgRate}"><br><br>

                                        계절: <input class="neverClickable" name="season" type="text" value="${festival.season}"><br><br>

                                        <img src="${festival.imgUrl}" width="400px"><br>
                                        이미지 소스:  <input class="autoWidth" name="imgUrl" type="text" value="${festival.imgUrl}"><br><br>

                                        <button type="submit" id="updateSubmitBtn">수정내용 제출</button>

                                    </form>

                                `;

                                $('#modalBody').html(htmlContent2);

                        }


                    })


                })



                // db 다중조건 검색 모달 클릭

                 $(document).on('click','#search1', function(){

                    $.ajax({

                        url: '/admin/festival-regulate/findAllRegionAndTime',
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(map){

                            var list1 = map.regionList;
                            var list2 = map.timeList;

                            $('#searchRegion1').html("");
                            $('#searchRegion1').append(`<option value="">선택안함</option>`);

                            $.each(list1, function(index, region){

                                var htmlContent = `<option value="${region.regionId}">${region.regionName}</option>`;
                                $('#searchRegion1').append(htmlContent);

                            })

                            $('#searchTime1').html("");
                            $('#searchTime1').append(`<option value="">선택 안함</option>`);

                            $.each(list2, function(index, time){

                                var htmlContent = `<option value="${time.timeId}">${time.timeName}</option>`;
                                $('#searchTime1').append(htmlContent);

                            })

                        }

                    })

                })


                // db 상세 모달 클릭

                 $(document).on('click','#searchBtn1', function(){

                    var data = $("#searchForm1").serializeArray();

                    console.log("폼 : ");

                    console.log(data);


                    findDBFestivalByMultiple(data,1);
                    findDBFestivalMultipleCount(data);

                    // 다중 조건 검색 모달 닫기
                    $('#close1').click();

                 })


                // 수정 조건 폼 보내기
                 function findDBFestivalByMultiple(data1, page){


                    console.log(data1);

                    $.ajax({

                        url: '/admin/festival-regulate/findDBFestivalByMultiple?page=' + page,
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(data1),
                        success: function(list){

                            $('#list1').html("");


                            $.each(list, function(index, festival){

                                console.log(festival);
                                var index1 = (index + 1) + (page-1)*5;

                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;


                                console.log("축제 날짜")
                                console.log(festival.startDate);
                                console.log(festival.endDate);

                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "없음";


                                var htmlContent =`

                                    <tr>
                                        <td>

                                            <input class="check1" type="checkbox" name="index" value="${festival.festivalId}"/><br><hr>

                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong" id="dbUpdateBtn" value="${festival.festivalId}">상세 수정</button><br><hr>

                                            <button type="button" class="btn btn-primary"  id="contentKeywordInsertBtn" value="${festival.festivalId}">내용 키워드 추가</button>

                                        </td>


                                        <td class="index1" style="width : 20px; height: 20px;">${index1}</td>
                                        <td class="festivalId">${festival.festivalId}</td>
                                        <td class="regionId">${festival.regionId}</td>
                                        <td class="timeId">${festival.timeId}</td>
                                        <td class="festivalName">${festival.festivalName}</td>
                                        <td class="festivalContent">${content}</td>
                                        <td class="manageInstitution">${inst1}</td>
                                        <td class="hostInstitution">${inst2}</td>
                                        <td class="sponserInstitution">${inst3}</td>
                                        <td class="tel">${festival.tel}</td>
                                        <td class="homepageUrl"><a href="${festival.homepageUrl}">클릭!</a></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="formattedStart">${festival.formattedStart}</td>
                                        <td class="formattedEnd">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>
                                        <td class="imgUrl"><img src="${festival.imgUrl}" width="40px"></td>

                                    </tr>

                                `;

                                $('#list1').append(htmlContent);

                            })


                        }

                    })

                 }

                 // 상세검색 페이지 버튼 붙히기
                 function findDBFestivalMultipleCount(data1){

                    $.ajax({

                        url: '/admin/festival-regulate/findDBFestivalMultipleCount',
                        method: 'POST',
                        data: JSON.stringify(data1),
                        contentType: 'application/json',
                        success: function(count){

                            $('#pageNum1').html("");
                            // 상세검색 전으로 돌아가기 버튼
                            $('#pageNum1').append(`<button class="pageBtn4" onclick=>전체검색</button>`);

                            $(document).on('click','.pageBtn4', function(){

                                findDBFestivalList(1);
                                findDBFestivalCount();

                            })



                            console.log("카운트는...")
                            console.log(count)

                            var page = 0;

                            if(count % 5 ==0){
                                page = count/5;
                            }else{
                                page = count/5 +1;
                            }

                            for(var p=1; p<=page; p++){

                                $('#pageNum1').append(`<button class="pageBtn3">${p}</button>`)

                            }



                            $(document).on('click','.pageBtn3', function(){

                                const page = $(this).text();
                                findDBFestivalByMultiple(data1, page);

                            })


                        }

                    })


                }



                // api 다중조건 검색 모달 클릭

                 $(document).on('click','#search2', function(){

                    $.ajax({

                        url: '/admin/festival-regulate/findAllRegionAndTime',
                        method: 'POST',
                        contentType: 'application/json',
                        success: function(map){

                            var list1 = map.regionList;

                            $('#searchRegion2').html("");

                            $.each(list1, function(index, region){

                                var htmlContent = `<option value="${region.regionId}">${region.regionName}</option>`;
                                $('#searchRegion2').append(htmlContent);

                            })

                        }

                    })

                })



                // api 다중조건 검색 버튼 클릭

                 $(document).on('click','#searchBtn2', function(){

                    var data = $("#searchForm2").serializeArray();

                    console.log("폼 : ");

                    console.log(data);


                    findAPIFestivalByMultiple(data,1);
                    findAPIFestivalMultipleCount(data);

                    // 다중 조건 검색 모달 닫기
                    $('#close2').click();

                 })


                // API 수정 조건 폼 보내기
                 function findAPIFestivalByMultiple(data2, page){


                    console.log(data2);

                    $.ajax({

                        url: '/admin/festival-regulate/findAPIFestivalByMultiple?page=' + page,
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(data2),
                        success: function(list){

                            $('#list2').html("");

                            $.each(list, function(index, festival){

                                var index1 = (index + 1) + (page-1)*5;


                                var content = festival.festivalContent.length > 30?
                                festival.festivalContent.substring(0,30) + "..."
                                : festival.festivalContent;

                                var inst1 = festival.manageInstitution.length > 15?
                                festival.manageInstitution.substring(0,15) + "..."
                                : festival.manageInstitution;

                                var inst2 = festival.hostInstitution.length > 15?
                                festival.hostInstitution.substring(0,15) + "..."
                                : festival.hostInstitution;

                                var inst3 = festival.sponserInstitution.length > 15?
                                festival.sponserInstitution.substring(0,15) + "..."
                                : festival.sponserInstitution;




                                var start = festival.startDate.length >0?
                                festival.startDate.substring(0,10):
                                "링크없음";

                                var end = festival.endDate.length >0?
                                festival.endDate.substring(0,10):
                                "링크없음";

                                var htmlCheck = ``;

                                if(festival.exist=="Y"){

                                    htmlCheck= `<tr>
                                        <td>DB<br>존재</td>`


                                }else{

                                     htmlCheck = `<tr>
                                        <td><input class="check2" type="checkbox" name="index" value="${index}"/></td>`
                                }


                                var htmlContent =`

                                        <td class="index1">${index1}</td>
                                        <td class="regionId">${festival.regionId}</td>
                                        <td class="timeId">${festival.timeId}</td>
                                        <td class="festivalName">${festival.festivalName}</td>
                                        <td class="festivalContent">${content}</td>
                                        <td class="manageInstitution">${inst1}</td>
                                        <td class="hostInstitution">${inst2}</td>
                                        <td class="sponserInstitution">${inst3}</td>
                                        <td class="tel">${festival.tel}</td>
                                        <td class="homepageUrl"><a href="${festival.homepageUrl}">클릭!</a></td>
                                        <td class="detailAddress">${festival.detailAddress}</td>

                                        <td class="place">${festival.place}</td>
                                        <td class="startDate">${festival.formattedStart}</td>
                                        <td class="endDate">${festival.formattedEnd}</td>
                                        <td class="avgRate">${festival.avgRate}</td>
                                        <td class="season">${festival.season}</td>
                                        <td class="imgUrl"><img src="${festival.imgUrl}" width="40px"></td>

                                    </tr>

                                `;

                                var finalHtml = htmlCheck + htmlContent;

                                $('#list2').append(finalHtml);



                            })


                        }

                    })

                 }

                 // API 상세검색 페이지 버튼 붙히기
                 function findAPIFestivalMultipleCount(data2){

                    $.ajax({

                        url: '/admin/festival-regulate/findAPIFestivalMultipleCount',
                        method: 'POST',
                        data: JSON.stringify(data2),
                        contentType: 'application/json',
                        success: function(count){

                            $('#pageNum2').html("");
                            // 상세검색 전으로 돌아가기 버튼
                            $('#pageNum2').append(`<button class="pageBtn6" onclick=>전체검색</button>`);

                            $(document).on('click','.pageBtn6', function(){

                                findAPIFestivalList(1);
                                findAPIFestivalCount(20);

                            })



                            console.log("카운트는...")
                            console.log(count)

                            var page = 0;

                            if(count % 5 ==0){
                                page = count/5;
                            }else{
                                page = count/5 +1;
                            }

                            for(var p=1; p<=page; p++){

                                $('#pageNum2').append(`<button class="pageBtn5">${p}</button>`)

                            }



                            $(document).on('click','.pageBtn5', function(){

                                const page = $(this).text();
                                findAPIFestivalByMultiple(data2, page);

                            })


                        }

                    })


                }
            }
        )





    </script>


</head>
<body>
<div layout:fragment="content2">



    <div id="festivalRegulate">
        <!-- Modal : db 상세 검색 -->
        <div class="modal fade" id="searchModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle1">검색 조건</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                        <form id="searchForm1" name="searchForm1">

                            지역 번호 : <select name="regionId" id="searchRegion1">
                                        </select><br><br>
                            시간대 : <select name="timeId" id="searchTime1">
                                    </select><br><br>
                            축제 이름 : <input name="festivalName" type="text"><br><br>
                            내용 키워드<br><textarea name="festivalContent" cols="55" rows="10"></textarea><br><br>
                            주체기관 : <input class="autoWidth" name="manageInstitution" type="text"><br><br>
                            주관기관 : <input class="autoWidth" name="hostInstitution" type="text"><br><br>
                            후원기관 : <input class="autoWidth" name="sponserInstitution" type="text"><br><br>
                            전화번호 : <input name="tel" type="text"><br><br>
                            장소 : <input name="place" type="text"><br><br>
                            시작일 : <input name="formattedStart" type="date"><br><br>
                            종료일 : <input name="formattedEnd" type="date"><br><br>
                            최소 별점 : <input name="avgRate" type="number" step="0.1"><br><br>
                            계절: <select name="season" id="searchSeason1">
                                    <option value="">선택안함</option>
                                    <option value="봄">봄</option>
                                    <option value="여름">여름</option>
                                    <option value="가을">가을</option>
                                    <option value="겨울">겨울</option>
                                 </select><br><br>

                            <button type="button" id="searchBtn1">검색</button>

                        </form>



                    </div>
                    <div class="modal-footer">
                        <button id="close1" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <h2>축제 DB 현황
            <button id="search1" type="button" class="btn btn-primary" data-toggle="modal" data-target="#searchModal1">
                <img src="https://play-lh.googleusercontent.com/jLQTklRid_7HfQ1a6hzrM8WO439CyZ6dWCVnI0eiaeW8k7W3Mn69j4oy7lYedZ2QqKM" style="width : 20px; height: 20px;">
            </button>
            <button id="dbDeleteBtn">DB 삭제</button></h2>
        <table class="table table-striped" id="festivalDB">

            <thead class="table-light">
            <tr>
                <th scope="col">체크</th>
                <th scope="col">#</th>
                <th scope="col">DB번호</th>
                <th scope="col">지역</th>
                <th scope="col">시간</th>
                <th scope="col">이름</th>
                <th scope="col">설명</th>
                <th scope="col">주관</th>
                <th scope="col">주체</th>
                <th scope="col">후원</th>
                <th scope="col">번호</th>
                <th scope="col">홈페이지</th>
                <th scope="col">주소</th>
                <th scope="col">장소</th>
                <th scope="col">시작</th>
                <th scope="col">종료</th>
                <th scope="col">별점평균</th>
                <th scope="col">계절</th>
                <th scope="col">관련이미지</th>
            </tr>
            </thead>
            <tbody id="list1"></tbody>


        </table>
        <div id="pageNum1"></div>


        <!-- Modal -->
        <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">DB수정 상세 모달</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="modalBody">
                        ...
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <br><br><br><br><br><br>
        <!-- 전국축제 api 실시간 검색 조건 Modal -->
        <div class="modal fade" id="searchModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle2">실시간 축제 검색조건</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="searchForm2" name="searchForm2">
                            <h3>입력값 정확 일치</h3>
                            축제 이름 : <input name="festivalName" type="text"><br><br>
                            주체기관 : <input class="autoWidth" name="manageInstitution" type="text"><br><br>
                            주관기관 : <input class="autoWidth" name="hostInstitution" type="text"><br><br>
                            후원기관 : <input class="autoWidth" name="sponserInstitution" type="text"><br><br>
                            전화번호 : <input name="tel" type="text"><br><br>
                            장소 : <input name="place" type="text"><br><br>
                            시작일 : <input name="formattedStart" type="date"><br><br>
                            종료일 : <input name="formattedEnd" type="date"><br><br>

                            <button type="button" id="searchBtn2">검색</button>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="close2" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <h2>전국 축제 실시간

            <button id="search2" type="button" class="btn btn-primary" data-toggle="modal" data-target="#searchModal2">
                <img src="https://play-lh.googleusercontent.com/jLQTklRid_7HfQ1a6hzrM8WO439CyZ6dWCVnI0eiaeW8k7W3Mn69j4oy7lYedZ2QqKM" style="width : 20px; height: 20px;">
            </button>
            <button id="apiInsertBtn">DB에 추가</button></h2>
        <table class="table table-striped" id="festivalAPI">

            <thead class="table-light">
            <tr>
                <th scope="col">체크</th>
                <th scope="col">#</th>
                <th scope="col">지역</th>
                <th scope="col">시간</th>
                <th scope="col">이름</th>
                <th scope="col">설명</th>
                <th scope="col">주관</th>
                <th scope="col">주체</th>
                <th scope="col">후원</th>
                <th scope="col">번호</th>
                <th scope="col">홈페이지</th>
                <th scope="col">주소</th>
                <th scope="col">장소</th>
                <th scope="col">시작</th>
                <th scope="col">종료</th>
                <th scope="col">별점평균</th>
                <th scope="col">계절</th>
                <th scope="col">관련이미지</th>
            </tr>
            </thead>
            <tbody id="list2"></tbody>


        </table>
        <div id="pageNum2"></div>


    </div>





</div>





</body>
</html>